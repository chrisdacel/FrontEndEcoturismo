import { useState } from 'react';

export default function RegistroOperador2({ onNavigateHome, onNavigateLogin, onNavigatePreferencias }) {
  const [formData, setFormData] = useState({
    nombre: '',
    apellido: '',
    pais: '',
    mes: '',
    dia: '',
    anio: '',
    nit: '',
    terminos: false,
    privacidad: false
  });

  const days = Array.from({ length: 31 }, (_, i) => i + 1);
  const years = Array.from({ length: 33 }, (_, i) => 2025 - i);

  const handleSubmit = (e) => {
    e.preventDefault();
    // Aquí iría la lógica de envío del formulario
    if (formData.terminos && formData.privacidad) {
      onNavigatePreferencias();
    }
  };

  return (
    <div className="min-h-screen bg-white text-slate-900">
      {/* Header */}
      <header className="fixed top-0 z-50 w-full bg-white shadow-sm">
        <div className="flex items-center justify-between px-6 py-4 md:px-12">
          <button onClick={onNavigateHome} className="flex items-center gap-2 hover:opacity-80">
            <img src="/images/datos_operador/nature-svgrepo-com.svg" alt="Logo" className="h-10 w-10" />
            <div>
              <div className="flex gap-1 leading-none">
                <h3 className="text-lg font-semibold">Conexion</h3>
                <h5 className="text-sm font-semibold text-gray-600">EcoRisaralda</h5>
              </div>
              <p className="text-xs text-gray-600">Operador</p>
            </div>
          </button>
          
          <button
            onClick={onNavigateLogin}
            className="hidden rounded-md border border-gray-300 bg-[#267E1B] px-6 py-2 text-sm font-semibold text-white hover:bg-white hover:text-[#267E1B] md:block"
          >
            ¿Ya tienes una cuenta?
          </button>

          {/* Mobile Dropdown */}
          <img src="/images/datos_operador/menu-alt-2-svgrepo-com.png" alt="Menu" className="h-8 w-8 md:hidden" />
        </div>
      </header>

      {/* Main Content */}
      <main className="flex min-h-screen flex-col items-center justify-center gap-4 px-4 pt-20 md:gap-6">
        {/* Título */}
        <div className="w-full max-w-[35vw] md:max-w-none">
          <button
            onClick={onNavigateHome}
            className="mb-2 text-left text-xs text-gray-600 hover:underline md:text-sm"
          >
            &lt; Regresar
          </button>
          <h1 className="text-left text-xl font-medium text-[#267E1B] md:text-2xl">Cuéntanos un poco más sobre ti</h1>
        </div>

        {/* Nombre */}
        <div className="w-full max-w-[35vw] flex flex-col md:max-w-none">
          <label className="mb-1 text-left text-xs text-gray-600 md:text-sm">Nombre</label>
          <input
            type="text"
            placeholder="Ingrese su nombre"
            value={formData.nombre}
            onChange={(e) => setFormData({ ...formData, nombre: e.target.value })}
            className="rounded-md border border-gray-500 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#267E1B] md:w-[35vw]"
          />
        </div>

        {/* Apellido */}
        <div className="w-full max-w-[35vw] flex flex-col md:max-w-none">
          <label className="mb-1 text-left text-xs text-gray-600 md:text-sm">Apellido</label>
          <input
            type="text"
            placeholder="Ingrese su apellido"
            value={formData.apellido}
            onChange={(e) => setFormData({ ...formData, apellido: e.target.value })}
            className="rounded-md border border-gray-500 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#267E1B] md:w-[35vw]"
          />
        </div>

        {/* País */}
        <div className="w-full max-w-[35vw] flex flex-col md:max-w-none">
          <label className="mb-1 text-left text-xs text-gray-600 md:text-sm">País donde reside</label>
          <select
            value={formData.pais}
            onChange={(e) => setFormData({ ...formData, pais: e.target.value })}
            className="rounded-md border border-gray-500 px-3 py-2 text-sm text-gray-600 focus:outline-none focus:ring-2 focus:ring-[#267E1B] md:w-[35vw]"
          >
            <option value="">Seleccionar</option>
            <option value="Colombia">Colombia</option>
            <option value="Perú">Perú</option>
          </select>
        </div>

        {/* Fecha de Nacimiento */}
        <div className="w-full max-w-[35vw] flex flex-col md:max-w-none">
          <label className="mb-1 text-left text-xs text-gray-600 md:text-sm">Fecha de nacimiento</label>
          <div className="flex gap-2 md:gap-3">
            <select
              value={formData.mes}
              onChange={(e) => setFormData({ ...formData, mes: e.target.value })}
              className="flex-1 rounded-md border border-gray-500 px-2 py-2 text-xs text-gray-600 focus:outline-none focus:ring-2 focus:ring-[#267E1B] md:text-sm"
            >
              <option value="">Mes</option>
              <option value="1">Enero</option>
              <option value="2">Febrero</option>
              <option value="3">Marzo</option>
              <option value="4">Abril</option>
              <option value="5">Mayo</option>
              <option value="6">Junio</option>
              <option value="7">Julio</option>
              <option value="8">Agosto</option>
              <option value="9">Septiembre</option>
              <option value="10">Octubre</option>
              <option value="11">Noviembre</option>
              <option value="12">Diciembre</option>
            </select>

            <select
              value={formData.dia}
              onChange={(e) => setFormData({ ...formData, dia: e.target.value })}
              className="flex-1 rounded-md border border-gray-500 px-2 py-2 text-xs text-gray-600 focus:outline-none focus:ring-2 focus:ring-[#267E1B] md:text-sm"
            >
              <option value="">Día</option>
              {days.map((day) => (
                <option key={day} value={day}>{day}</option>
              ))}
            </select>

            <select
              value={formData.anio}
              onChange={(e) => setFormData({ ...formData, anio: e.target.value })}
              className="flex-1 rounded-md border border-gray-500 px-2 py-2 text-xs text-gray-600 focus:outline-none focus:ring-2 focus:ring-[#267E1B] md:text-sm"
            >
              <option value="">Año</option>
              {years.map((year) => (
                <option key={year} value={year}>{year}</option>
              ))}
            </select>
          </div>
        </div>

        {/* NIT */}
        <div className="w-full max-w-[35vw] flex flex-col md:max-w-none">
          <label className="mb-1 text-left text-xs text-gray-600 md:text-sm">NT (Número de identificación tributaria)</label>
          <input
            type="number"
            placeholder="Ingrese el número de identificación tributaria"
            value={formData.nit}
            onChange={(e) => setFormData({ ...formData, nit: e.target.value })}
            className="rounded-md border border-gray-500 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#267E1B] md:w-[35vw]"
          />
        </div>

        {/* Términos y Condiciones */}
        <div className="flex w-full max-w-[35vw] flex-col gap-2 md:max-w-none">
          <div className="flex items-start gap-2">
            <input
              type="checkbox"
              id="terminos"
              checked={formData.terminos}
              onChange={(e) => setFormData({ ...formData, terminos: e.target.checked })}
              className="mt-1 h-3 w-3"
            />
            <label htmlFor="terminos" className="text-xs text-gray-600 md:text-sm">
              He leído y acepto los{' '}
              <a href="#" className="text-[#267E1B] hover:underline">
                Términos y condiciones
              </a>
              {' '}de Conexión EcoRisaralda
            </label>
          </div>

          <div className="flex items-start gap-2">
            <input
              type="checkbox"
              id="privacidad"
              checked={formData.privacidad}
              onChange={(e) => setFormData({ ...formData, privacidad: e.target.checked })}
              className="mt-1 h-3 w-3"
            />
            <label htmlFor="privacidad" className="text-xs text-gray-600 md:text-sm">
              He leído y aceptado la{' '}
              <a href="#" className="text-[#267E1B] hover:underline">
                política de privacidad
              </a>
              {' '}de Conexión EcoRisaralda
            </label>
          </div>
        </div>

        {/* Finalizar Button */}
        <button
          onClick={handleSubmit}
          disabled={!formData.terminos || !formData.privacidad}
          className="w-full max-w-[35vw] rounded-md bg-[#267E1B] py-2.5 text-sm font-semibold text-white transition-all hover:border hover:border-[#267E1B] hover:bg-white hover:text-[#267E1B] disabled:opacity-50 md:max-w-none"
        >
          Finalizar
        </button>
      </main>
    </div>
  );
}
